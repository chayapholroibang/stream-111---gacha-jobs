namespace SpriteKind {
    export const Machine = SpriteKind.create()
    export const Slot = SpriteKind.create()
    export const Label = SpriteKind.create()
    export const Coin = SpriteKind.create()
    export const ButtonLabel = SpriteKind.create()
    export const Prize = SpriteKind.create()
    export const Deposit = SpriteKind.create()
    export const Sphere = SpriteKind.create()
}
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (inPrizeMode) {
        inPrizeMode = false
        for (let value of sprites.allOfKind(SpriteKind.Food)) {
            value.destroy()
        }
        for (let value of sprites.allOfKind(SpriteKind.Prize)) {
            value.destroy()
        }
        for (let value of sprites.allOfKind(SpriteKind.Text)) {
            value.destroy()
        }
        makeCoin()
    } else {
        if (theCoin.overlapsWith(coinSlot)) {
            theCoin.destroy()
            animatePrize()
        }
    }
})
function getPrize () {
    inPrizeMode = true
    cover = sprites.create(image.create(scene.screenWidth(), scene.screenHeight()), SpriteKind.Food)
    cover.image.fill(12)
    randomDraw = randint(0, 200)
    prizeName = textsprite.create("")
    prizeName.setMaxFontHeight(8)
    if (randomDraw < 5) {
        prizeImage = img`
            ............fffffffff...............
            ...........fffffffffff..............
            ...........fffffffffff..............
            ...........fffffffffff.......fff....
            ..fff......fffffffffff.....ff44f....
            ..f44fff...f111111111f...ff4444f....
            ...f444ff.fffffffffffff..f44334f....
            ...f4344ff...ffffff.....f444344f....
            ...f43344fffff44444ffff.f433344f....
            ...f44334ff44444444444fff44344ff....
            ...ff4444444444444444444f4444f......
            ....ff4444444444444444444444f.......
            .....ff44444444444444444444ff.......
            .....f444444f444444f4444444f........
            .....f444444f444444f4444444f........
            .....f44ddd4444444444ddd44f.........
            .....f44dddd44444444dddd44ff........
            .....f44ddddddfffdddddddd44f........
            ...fff44dddddddfddddddddd44ff.......
            ...f4444ddddffddddffddddd444f.......
            ...f444ddddddffffffdddddd44ff.......
            ....f44dddddddddddddddddd44f........
            ....f4dddd11ddddd11ddddd444f........
            ...f44ddddd11fff11dddddd444f........
            ...f4ddddddd11f11ddddddd444ff.......
            ...f4ddddddddfffdddddd44d444ff......
            ...f44dddddddfffdddddd44d4444fff....
            ...f44dddddddfffdddddd444d44444ff...
            ...ff44dddddddfdddddd44444d444444ff.
            ....f44fdddddddddfdd444f44d4444444ff
            ....f44ffdddddddfddd44ff44444444444f
            ....ff44fddddddfddd444f4444444444dff
            .....f44ffdddddfd4444f444444f444ddf.
            ....fff4dfffffffd44fff44444ff44dddf.
            ....f444ff.....fd4ffffffffff4dddfff.
            ....fffff......ffff........ffffff...
            `
        prizeName.setText("CORGUY THE DOOR GUY")
    } else if (randomDraw < 20) {
        prizeImage = img`
            ....................................
            ....................................
            ....................................
            ................ffffffff............
            ..............ffe4444444fff.........
            .............feee4444444444f........
            ...........ff8ee444444444444f.......
            ....fffffffee884444444444444f.......
            ...f8888888eee844444444444444f......
            ..fcc8888888eee84444444444444f......
            .ffccc888888eee884444444444444f.....
            f88ccccccc88884e84444444444444f.....
            f88888888888884e884444444444444f....
            .f88888888888e44e84444444444444f....
            .f3333333333ee44e884444444444444f...
            .f3f33333333e4444e88444444444444f...
            .f333333f333e44444e8444444444444f...
            ..f3f3f33322e44444e8444444444444f...
            ..f33f333323444444e8844444444444f...
            ...ff33332233444444e88888888888f....
            .....f22223334444444e8888888888f....
            ......f3333333444db44ea88888888f....
            ......f33333333dddb444aa888888af....
            ......f333333ddddbd444aa888aaaafff..
            ......f33333bbdddbd4444aaaaaaa2333f.
            ......f33333ddbbbdd444444422223332f.
            ......f33333ddddddd4444422233333ff..
            .......f3333ddddd322222223333332f...
            .......f3333dd333333333333333fff....
            ........f3333333333333333ffff.......
            ........f22333333333fffff...........
            .........f22222222ff................
            ..........ffffffff..................
            ....................................
            ....................................
            ....................................
            `
        prizeName.setText("MAIL SNAIL")
    } else if (randomDraw < 35) {
        prizeImage = img`
            .............ffffffffff.............
            ............f1bbbbbbbb1f............
            ............f11bbbbbbb1f............
            ............f1111111111f............
            ............f1111121111f............
            ............f9111111111f............
            ............f9999999999f............
            ............f99999999999f...........
            ............f99f99999999f...........
            ............f99999999f99f...........
            ...........f999994449999f...........
            ...........f199999499999f...........
            ..........f91999994999911f..........
            ..........f911999999999199f.........
            .........f9991199999991993f.........
            .........f96991111111119333f........
            ........f9969999111111193339f.......
            ........f996999911111119ddd9f.......
            ........f996999911212119edd9f.......
            .......f9966999b112221199e66f.......
            .......f996999b11112111999999f......
            .......f996999b11111111999999f......
            .......f996119b1111111191e166f......
            ......f99969111111111111199ff.......
            .......f99f699b111111111996f........
            ........fff669b111111111996f........
            ..........f669b111111111b66f........
            ..........f669b111111111b66f........
            ..........f666b111111111666f........
            ...........f66c11111111166f.........
            ............f6cccccccccc6f..........
            .............f444666444ff...........
            .............f444fff444f............
            ..............f4f...f4f.............
            ...............f.....f..............
            ....................................
            `
        prizeName.setText("PENGUIN SODA JERK")
    } else if (randomDraw < 65) {
        prizeImage = img`
            ...........ffffff...................
            ..........f544445f..................
            .........f45444454f.................
            .........f44444444f.................
            ..........f555555f..................
            ..........f5f55f5f..................
            ...........f5555f...................
            ...........f555ef...................
            ............f55ef...................
            .............fe5f...................
            .............f555f..................
            ..............f55f..................
            ..............fe55f.................
            ...............fe5f.................
            ...............fe5f.................
            ...............f555f................
            ...............f55ef................
            ..............ff55eeff..............
            .............fe4455e44f.............
            .....ff.....f544445514f.............
            ....f44f....f5441155114f............
            ....f11f...fe5411445414f............
            ....f44f...fe411444f44ef.....ff.....
            ....f111f..f5444444f44ef....f44f....
            ....f444f..f5444444f44ef....f11f....
            ...f4444f..f5ffee54f455f....f44f....
            ...f1111f..feffee5ffe55f....f111f...
            ..f444444f.fef.f55f.f55f....f444f...
            ...f4444f..f5f.f55f.f5ef...f4444f...
            ....ffff...f5f.f55f.f5ef...f1111f...
            ...........f5f.f55f.f5ef..f444444f..
            ............f..f5ef.f5f....f4444f...
            ...............f5ef.f5f.....ffff....
            ...............f5ef.f5f.............
            ...............f5ef.f5..............
            ................ff...f..............
            `
        prizeName.setText("TRAFFIC GIRAFFE")
    } else if (randomDraw < 95) {
        prizeImage = img`
            ....................................
            ....................................
            ....................................
            ....................................
            ....................................
            ................fffffff.............
            ..............ffaaccaaaff...........
            ............ffaaaaacccaaaf..........
            ...........fcccaaaaaaccaaaf.........
            .........ffaaacccaaaaaccaacf........
            ........faaaaaaaccaaaaacaaccf....ff.
            .......fccaaaaaaaccaaaaacaacf..ffbbf
            .......facccaaaaaaacaaaaccaccffbbbf.
            .......faaacccaaaaaccaaaacaacbbbbbf.
            .......faaaaaccaaaaaccaaaccacbbbff..
            ......fccaaaaacccaaaacaaaacacfff....
            ......faccaaaaaacaaaaccaaacacf......
            .....faaaccaaaaaccaaaacaaaccf.......
            .....faaaaccaaaaacaafffaaaaf........
            ....fbccffacffaaaccf444faaf.........
            ....fbbf4fffbbfaaaf44a44ff..........
            ....fff4444bbbfaaf44aaa44f..........
            ....f4f4444b4fcaf44a....4f..........
            ....ff444444faccf422....4f..........
            ....fbffffffcaacf422e22e4f..........
            ...fbbbbbbbbccff4422ee2e4f..........
            ...fbfbbfbbfff.f422222224f..........
            ...fbbbbbbf....f44ee22224f..........
            ...fbbbbbfff...f44422ee44f..........
            ...fbbbbf2e7f...f4444444f...........
            ....fffff22e7f..f4444444f...........
            ........fe22f....f4444ff............
            .........fff......ffff..............
            ....................................
            ....................................
            ....................................
            `
        prizeName.setText("ARMADILLO BERRY FARMER")
    } else if (randomDraw < 125) {
        prizeImage = img`
            ...........fff......................
            ..........fbbbf.....................
            .........fbbbbbf....................
            .........fbfbfbf....................
            .........fbbbbbf....................
            .........fcccbf.....................
            .........fccfbbf....................
            .........fcffbbf....................
            ..........f.fbbf....................
            ............fbbf....................
            ............fbbf.....ffffff.........
            ............fbbf....fccccccf........
            ............fbbf.fffcccccccf........
            ............fbbffcccccccccccf.......
            ............fbbcccccccccccccf.......
            ............fbbb2ccccccccccccf......
            ............fbbb22cccccecccecf......
            ............fbbbc2cccccccccccf......
            ............f2bbb2cccccccececf......
            ............f2bb22cceccececeef......
            ............f22c2ccceccececcef......
            ............fc555cececcececcef......
            ............fe555ceccecececcef......
            ............fe555ceccececfeccf......
            .............fcccceccecccffff.......
            ..............fcccebfcccbf..........
            ...............fffbbfffbbf..........
            .................fbbf.fbbf..........
            .................fbbf.fbbf..........
            .................fbbf.fbbf..........
            .................fbbf.fbbf..........
            .................fbbf.fbbf..........
            .................f99f.f99f..........
            .................f99f.f99f..........
            ................f999ff999f..........
            .................fff..fff...........
            `
        prizeName.setText("OSTRICH OLYMPIAN")
    } else if (randomDraw < 135) {
        prizeImage = img`
            ....................................
            .................cc.................
            ................e4e4..........bbb...
            ...............e4e4e4........b199b..
            ...............4e4e4e........b999b..
            ..............eeeeeeee.......b999b..
            .............ee.1111.ee......cbbb...
            ...........1111d11f1........c.......
            .......11111111d11114......c........
            ......1111111111d111444444c.........
            ......1111111111d111.....c..........
            .....1111111111111..................
            .....1111111111111..................
            ....111111111d1111..................
            ....11111111dd1111..................
            ...111111111d1111d..................
            ...111111111d1111...................
            ...11111111d1111d...................
            ...11111ddd11111....................
            ..11111d1111111d...............7....
            ..111111111111d...............7.....
            ..11111111111d................7.....
            ..1111111111d.............7...7.....
            ..111111111d...............7..7.....
            .1111dd11dd................7..7.....
            .111d111dc.................7..7.....
            .1dd111d.c..............7..7..7.....
            .d..1ddc.c...............7.7..7.....
            d...d..c.c...............7.7..7.....
            ...d...c..c..............7.7..7.....
            998...89c9c899888888..888787..7.8888
            98999998c8c8899998888888979788789888
            89988888c8c8888899998899878799899999
            88999998c889999998889988999789988998
            999888999999888899999999999898899999
            888888888888888888888888888888888888
            `
        prizeName.setText("EGRET INVESTIGATOR")
    } else if (randomDraw < 150) {
        prizeImage = img`
            ................e22.................
            ..............ee22222...............
            .............e22222222..............
            ............e222e444222.............
            ...........e222e44444222............
            ...........e22e444444422............
            ...........e22e444e44422............
            ...........e22e44eee4422............
            .......e222e22e4eeeee422e222........
            .....e22222e22e44eee4422e22222......
            ....eee2222e22e444e44422e222eee.....
            .......eeeee22e44444eeeeeeee........
            ......445555eeeeeeeee555555.........
            .......5555555555555555544554.......
            ......455555555555555555555544....4.
            .4...4455554555555555545554555...44.
            .44..5555544555555545544554455...44.
            .44.555555555554555445555555555.454.
            .4545545555555445555555555555554454.
            .454d4455555555555555555ff555dd4554.
            .454dd555555ff555dddddd5ff55ddd4454.
            .454ddddd555ff5dddddddddd55dddd.454.
            .454dddddddddddddffffffdddddddd..44.
            .44.dd1dddddddddddddddddddddddd...4.
            .44.d11ddddddddddddddddddddd1dd.....
            .4..dddddddddddd1ddddddddddd11d.....
            ....1ddddd1dddd11dddddddd1ddddd.....
            ...11dddd11dddddddd1ddddd11dd1......
            .....dd1ddddd1ddddd11dddddddd11.....
            .....d11dddd11dddddddddddd1ddd......
            ......dddd1ddddddddddddddd11d.......
            .......dd11dddddddddddd1dddd........
            ........dddddddddd1dddd11dd.........
            .........d1ddd1ddd11dddddd..........
            .........11dd11dddddddddd...........
            ............ddddddddddd.............
            `
        prizeName.setText("PUFFER FIREFIGHTER")
    } else {
        prizeImage = img`
            7.....77.......................7...7
            ..22..7......fffffffff.........7.77.
            .2222......ffbbffffffffff...77......
            .2f22......fbbbfffffffbbbff....d....
            .22f2......fbbfffffffffbbbf...ddd...
            .2222......ffffffffffffffff...ddd...
            ...f.......ff2222bb22222fff.........
            ...f.....ff222222bb2222222ff...ff...
            ...ff...f2222222ffb222222222f.ff....
            ....ff.f2222222fffff222222222ff.....
            ......f2222ff22fffff2222ff2222f.....
            ......f222ffff2ffff2222ffff222f.....
            .....f22222ff222ffb22222ff22222f....
            .....f22222222222bb222222222222f....
            ....f222222222222bb2222222222222f...
            ....f222222222222bb2222222222222f...
            ....f222222222222bb2222222222222f...
            ....f222222222222bb2222222222222f...
            ....f222222222222bb2222222222222f...
            fffff222ff2222222bb22ff222222222ffff
            ....f22ffff222222bb2ffff22222222f...
            ....f222ff2222222bb22ff222222222f...
            ....f222222222222bb2222222222222f...
            ....f222222222222bb2222222222222f...
            ....f2222222fff22bb222222fff2222f...
            .....f22222fffff2bb22222fffff22f....
            7..7.f22222fffff2bb22222fffff22f....
            7..7..f22222fff22bffff222fff22f.7.7.
            7..7..f222222222ffffff22222222f.7.7.
            77.7..ff2222222fffffff2222222ff.7.7.
            .7...f..f222222fffffff222222f.ff..7.
            ...ff.77.ff222222ffff22222ff...f....
            ..f........ff2222bb22222ff...e..f...
            ..555555.....fffffffffff....e..7....
            ..5.5......................eeeeeeee.
            ....................................
            `
        prizeName.setText("LITTERBUG LADYBUG")
    }
    yourPrizes.push(prizeImage)
    prizeSphere = sprites.create(img`
        .................111111111111111.................
        ...............11...............11...............
        .............11...................11.............
        ...........11.......................11...........
        .........11...........................11.........
        ........1...............................1........
        .......1.................................1.......
        ......1...................................1......
        .....1.....................................1.....
        ....1.......................................1....
        ....1.......................................1....
        ...1.........................................1...
        ...1.........................................1...
        ..1...........................................1..
        ..1...........................................1..
        .1.............................................1.
        .1.............................................1.
        1...............................................1
        1...............................................1
        1...............................................1
        1...............................................1
        1...............................................1
        1...............................................1
        1...............................................1
        1...............................................1
        1...............................................1
        1...............................................1
        1...............................................1
        1...............................................1
        1...............................................1
        1...............................................1
        1...............................................1
        .1.............................................1.
        .1.............................................1.
        ..1...........................................1..
        ..1...........................................1..
        ...1.........................................1...
        ...1.........................................1...
        ....1.......................................1....
        ....1.......................................1....
        .....1.....................................1.....
        ......1...................................1......
        .......1.................................1.......
        ........1...............................1........
        .........11...........................11.........
        ...........11.......................11...........
        .............11...................11.............
        ...............11...............11...............
        .................111111111111111.................
        `, SpriteKind.Food)
    prize = sprites.create(prizeImage, SpriteKind.Prize)
    prizeName.setPosition(80, 20)
}
sprites.onDestroyed(SpriteKind.Sphere, function (sprite) {
    getPrize()
})
function animatePrize () {
    gachaponSphere = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, SpriteKind.Sphere)
    animation.runImageAnimation(
    gachaponSphere,
    [img`
        . . . . f f f f f f f f f . . . . 
        . . . f 1 1 1 1 1 1 1 1 1 f . . . 
        . . f 1 1 1 1 1 1 1 1 1 1 1 f . . 
        . f 1 1 1 1 1 1 1 1 1 1 1 1 1 f . 
        f 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 f 
        f 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 f 
        f 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 f 
        f 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 f 
        f 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 f 
        f 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 f 
        f 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 f 
        f 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 f 
        f 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 f 
        . f 6 6 6 6 6 6 6 6 6 6 6 6 6 f . 
        . . f 6 6 6 6 6 6 6 6 6 6 6 f . . 
        . . . f 6 6 6 6 6 6 6 6 6 f . . . 
        . . . . f f f f f f f f f . . . . 
        `,img`
        . . . . f f f f f f f f f . . . . 
        . . . f 1 1 1 1 1 1 1 1 1 f . . . 
        . . f 1 1 1 1 1 1 1 1 1 1 1 f . . 
        . f 6 1 1 1 1 1 1 1 1 1 1 1 1 f . 
        f 6 6 6 1 1 1 1 1 1 1 1 1 1 1 1 f 
        f 6 6 6 6 1 1 1 1 1 1 1 1 1 1 1 f 
        f 6 6 6 6 6 1 1 1 1 1 1 1 1 1 1 f 
        f 6 6 6 6 6 6 1 1 1 1 1 1 1 1 1 f 
        f 6 6 6 6 6 6 6 1 1 1 1 1 1 1 1 f 
        f 6 6 6 6 6 6 6 6 1 1 1 1 1 1 1 f 
        f 6 6 6 6 6 6 6 6 6 1 1 1 1 1 1 f 
        f 6 6 6 6 6 6 6 6 6 6 1 1 1 1 1 f 
        f 6 6 6 6 6 6 6 6 6 6 6 1 1 1 1 f 
        . f 6 6 6 6 6 6 6 6 6 6 6 1 1 f . 
        . . f 6 6 6 6 6 6 6 6 6 6 6 f . . 
        . . . f 6 6 6 6 6 6 6 6 6 f . . . 
        . . . . f f f f f f f f f . . . . 
        `,img`
        . . . . f f f f f f f f f . . . . 
        . . . f 6 6 6 6 6 1 1 1 1 f . . . 
        . . f 6 6 6 6 6 6 1 1 1 1 1 f . . 
        . f 6 6 6 6 6 6 6 1 1 1 1 1 1 f . 
        f 6 6 6 6 6 6 6 6 1 1 1 1 1 1 1 f 
        f 6 6 6 6 6 6 6 6 1 1 1 1 1 1 1 f 
        f 6 6 6 6 6 6 6 6 1 1 1 1 1 1 1 f 
        f 6 6 6 6 6 6 6 6 1 1 1 1 1 1 1 f 
        f 6 6 6 6 6 6 6 6 1 1 1 1 1 1 1 f 
        f 6 6 6 6 6 6 6 6 1 1 1 1 1 1 1 f 
        f 6 6 6 6 6 6 6 6 1 1 1 1 1 1 1 f 
        f 6 6 6 6 6 6 6 6 1 1 1 1 1 1 1 f 
        f 6 6 6 6 6 6 6 6 1 1 1 1 1 1 1 f 
        . f 6 6 6 6 6 6 6 1 1 1 1 1 1 f . 
        . . f 6 6 6 6 6 6 1 1 1 1 1 f . . 
        . . . f 6 6 6 6 6 1 1 1 1 f . . . 
        . . . . f f f f f f f f f . . . . 
        `,img`
        . . . . f f f f f f f f f . . . . 
        . . . f 6 6 6 6 6 6 6 6 6 f . . . 
        . . f 6 6 6 6 6 6 6 6 6 6 6 f . . 
        . f 6 6 6 6 6 6 6 6 6 6 6 1 1 f . 
        f 6 6 6 6 6 6 6 6 6 6 6 1 1 1 1 f 
        f 6 6 6 6 6 6 6 6 6 6 1 1 1 1 1 f 
        f 6 6 6 6 6 6 6 6 6 1 1 1 1 1 1 f 
        f 6 6 6 6 6 6 6 6 1 1 1 1 1 1 1 f 
        f 6 6 6 6 6 6 6 1 1 1 1 1 1 1 1 f 
        f 6 6 6 6 6 6 1 1 1 1 1 1 1 1 1 f 
        f 6 6 6 6 6 1 1 1 1 1 1 1 1 1 1 f 
        f 6 6 6 6 1 1 1 1 1 1 1 1 1 1 1 f 
        f 6 6 6 1 1 1 1 1 1 1 1 1 1 1 1 f 
        . f 6 1 1 1 1 1 1 1 1 1 1 1 1 f . 
        . . f 1 1 1 1 1 1 1 1 1 1 1 f . . 
        . . . f 1 1 1 1 1 1 1 1 1 f . . . 
        . . . . f f f f f f f f f . . . . 
        `,img`
        . . . . f f f f f f f f f . . . . 
        . . . f 6 6 6 6 6 6 6 6 6 f . . . 
        . . f 6 6 6 6 6 6 6 6 6 6 6 f . . 
        . f 6 6 6 6 6 6 6 6 6 6 6 6 6 f . 
        f 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 f 
        f 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 f 
        f 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 f 
        f 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 f 
        f 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 f 
        f 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 f 
        f 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 f 
        f 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 f 
        f 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 f 
        . f 1 1 1 1 1 1 1 1 1 1 1 1 1 f . 
        . . f 1 1 1 1 1 1 1 1 1 1 1 f . . 
        . . . f 1 1 1 1 1 1 1 1 1 f . . . 
        . . . . f f f f f f f f f . . . . 
        `,img`
        . . . . f f f f f f f f f . . . . 
        . . . f 6 6 6 6 6 6 6 6 6 f . . . 
        . . f 6 6 6 6 6 6 6 6 6 6 6 f . . 
        . f 1 6 6 6 6 6 6 6 6 6 6 6 6 f . 
        f 1 1 1 6 6 6 6 6 6 6 6 6 6 6 6 f 
        f 1 1 1 1 6 6 6 6 6 6 6 6 6 6 6 f 
        f 1 1 1 1 1 6 6 6 6 6 6 6 6 6 6 f 
        f 1 1 1 1 1 1 6 6 6 6 6 6 6 6 6 f 
        f 1 1 1 1 1 1 1 6 6 6 6 6 6 6 6 f 
        f 1 1 1 1 1 1 1 1 6 6 6 6 6 6 6 f 
        f 1 1 1 1 1 1 1 1 1 6 6 6 6 6 6 f 
        f 1 1 1 1 1 1 1 1 1 1 6 6 6 6 6 f 
        f 1 1 1 1 1 1 1 1 1 1 1 6 6 6 6 f 
        . f 1 1 1 1 1 1 1 1 1 1 1 6 6 f . 
        . . f 1 1 1 1 1 1 1 1 1 1 1 f . . 
        . . . f 1 1 1 1 1 1 1 1 1 f . . . 
        . . . . f f f f f f f f f . . . . 
        `,img`
        . . . . f f f f f f f f f . . . . 
        . . . f 1 1 1 1 1 6 6 6 6 f . . . 
        . . f 1 1 1 1 1 1 6 6 6 6 6 f . . 
        . f 1 1 1 1 1 1 1 6 6 6 6 6 6 f . 
        f 1 1 1 1 1 1 1 1 6 6 6 6 6 6 6 f 
        f 1 1 1 1 1 1 1 1 6 6 6 6 6 6 6 f 
        f 1 1 1 1 1 1 1 1 6 6 6 6 6 6 6 f 
        f 1 1 1 1 1 1 1 1 6 6 6 6 6 6 6 f 
        f 1 1 1 1 1 1 1 1 6 6 6 6 6 6 6 f 
        f 1 1 1 1 1 1 1 1 6 6 6 6 6 6 6 f 
        f 1 1 1 1 1 1 1 1 6 6 6 6 6 6 6 f 
        f 1 1 1 1 1 1 1 1 6 6 6 6 6 6 6 f 
        f 1 1 1 1 1 1 1 1 6 6 6 6 6 6 6 f 
        . f 1 1 1 1 1 1 1 6 6 6 6 6 6 f . 
        . . f 1 1 1 1 1 1 6 6 6 6 6 f . . 
        . . . f 1 1 1 1 1 6 6 6 6 f . . . 
        . . . . f f f f f f f f f . . . . 
        `,img`
        . . . . f f f f f f f f f . . . . 
        . . . f 1 1 1 1 1 1 1 1 1 f . . . 
        . . f 1 1 1 1 1 1 1 1 1 1 1 f . . 
        . f 1 1 1 1 1 1 1 1 1 1 1 6 6 f . 
        f 1 1 1 1 1 1 1 1 1 1 1 6 6 6 6 f 
        f 1 1 1 1 1 1 1 1 1 1 6 6 6 6 6 f 
        f 1 1 1 1 1 1 1 1 1 6 6 6 6 6 6 f 
        f 1 1 1 1 1 1 1 1 6 6 6 6 6 6 6 f 
        f 1 1 1 1 1 1 1 6 6 6 6 6 6 6 6 f 
        f 1 1 1 1 1 1 6 6 6 6 6 6 6 6 6 f 
        f 1 1 1 1 1 6 6 6 6 6 6 6 6 6 6 f 
        f 1 1 1 1 6 6 6 6 6 6 6 6 6 6 6 f 
        f 1 1 1 6 6 6 6 6 6 6 6 6 6 6 6 f 
        . f 1 6 6 6 6 6 6 6 6 6 6 6 6 f . 
        . . f 6 6 6 6 6 6 6 6 6 6 6 f . . 
        . . . f 6 6 6 6 6 6 6 6 6 f . . . 
        . . . . f f f f f f f f f . . . . 
        `],
    150,
    false
    )
    gachaponSphere.setPosition(gachaponDeposit.x, gachaponDeposit.y)
    gachaponSphere.lifespan = 1200
    gachaponSphere.vy = -30
    gachaponSphere.startEffect(effects.trail)
}
controller.menu.onEvent(ControllerButtonEvent.Pressed, function () {
    if (inMenuMode) {
        for (let value of sprites.allOfKind(SpriteKind.Food)) {
            value.destroy()
        }
    } else {
        cover = sprites.create(image.create(scene.screenWidth(), scene.screenHeight()), SpriteKind.Food)
        cover.image.fill(12)
        for (let value of yourPrizes) {
            gotPrize = sprites.create(value, SpriteKind.Food)
            gotPrize.setPosition(randint(15, 145), randint(15, 105))
        }
    }
    inMenuMode = !(inMenuMode)
})
function makeCoin () {
    theCoin = sprites.create(img`
        . . f f f . . . 
        . f 5 5 5 f . . 
        f 5 d 3 d 5 f . 
        f 5 3 5 1 5 f . 
        f 5 3 5 1 d f . 
        f 5 d 1 d d f . 
        . f d d d f . . 
        . . f f f . . . 
        `, SpriteKind.Coin)
    theCoin.startEffect(effects.hearts, 500)
    controller.moveSprite(theCoin)
    theCoin.x += -50
}
let gotPrize: Sprite = null
let inMenuMode = false
let gachaponSphere: Sprite = null
let prize: Sprite = null
let prizeSphere: Sprite = null
let prizeImage: Image = null
let prizeName: TextSprite = null
let randomDraw = 0
let cover: Sprite = null
let theCoin: Sprite = null
let inPrizeMode = false
let yourPrizes: Image[] = []
let gachaponDeposit: Sprite = null
let coinSlot: Sprite = null
let gachapon = sprites.create(img`
    .bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb.
    .bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb.
    .bbcccccbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbcbbbcbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbcccccbbbbbbbbbbbbbbbbbbbbbbbccbccccbbcccbccbccbcccccccbbb
    bbbcdcccbbbbbbbbbbbbbbbbbbbbbbbccbcbccbbcccccbbccbbbccbccbbb
    bbbcccccbbbbbbbbbbbbbbbbbbbbbbbccccbccbbcccccccccbcccccccbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
    fcccccccccccccccccccccccccccccccccccccccccccccccccccccccccc.
    .cccccccccccccccccccccccccccccccccccccccccccccccccccccccccc.
    .cccccccccccccccccccccccccccccccccccccccccccccccccccccccccc.
    .cccbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbccc.
    .cccbccccccccccccccccccccccccccccccccccccccccccccccccccbccc.
    .cccbccccccccccccccccccccccccccccccccccccccccccccccccccbccc.
    .cccbccccccccccccccccccccccccccccccccccccccccccccccccccbccc.
    .cccbccccccccccccccccccccccccccccccccccccccccccccccccccbccc.
    .cccbccccccccccccccccccccccccccccccccccccccccccccccccccbccc.
    .cccbccccccccccccccccccccccccccccccccccccccccccccccccccbccc.
    .cccbccccccccccccccccccccccccccccccccccccccccccccccccccbccc.
    .cccbccccccccccccccccccccccccccccccccccccccccccccccccccbccc.
    .cccbccccccccccccccccccccccccccccccccccccccccccccccccccbccc.
    .cccbccccccccccccccccccccccccccccccccccccccccccccccccccbccc.
    .cccbccccccccccccccccccccccccccccccccccccccccccccccccccbccc.
    .cccbccccccccccccccccccccccccccccccccccccccccccccccccccbccc.
    .cccbccccccccccccccccccccccccccccccccccccccccccccccccccbccc.
    .cccbccccccccccccccccccccccccccccccccccccccccccccccccccbccc.
    .cccbccccccccccccccccccccccccccccccccccccccccccccccccccbccc.
    .cccbccccccccccccccccccccccccccccccccccccccccccccccccccbccc.
    .cccbccccccccccccccccccccccccccccccccccccccccccccccccccbccc.
    .cccbccccccccccccccccccccccccccccccccccccccccccccccccccbccc.
    .cccbccccccccccccccccccccccccccccccccccccccccccccccccccbccc.
    .cccbccccccccccccccccccccccccccccccccccccccccccccccccccbccc.
    .cccbccccccccccccccccccccccccccccccccccccccccccccccccccbccc.
    .cccbccccccccccccccccccccccccccccccccccccccccccccccccccbccc.
    .cccbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbccc.
    .cccccccccccccccccccccccccccccccccccccccccccccccccccccccccc.
    .cccccccccccccccccccccccccccccccccccccccccccccccccccccccccc.
    .cccccccccccccccccccccccccccccccccccccccccccccccccccccccccc.
    .ffffffffffffffffffffffffffffffffffffffffffffffffffffffffff.
    fbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbf
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbdddddcccccbbbbdddddddbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbdddddcccccbbbdddddddddbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbdddddcccccbbdddddddddddbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbdddddcccccbbdddddddddddbbbbbbbddbdddbddddbdbbbbbbbbbbbbbb
    bbbdddddcccccbbdddddddddddbbbbbbbddbbbdddbbdbdbbbbbbcccccbbb
    bbbdddddcccccbbdddddddddddbbbbbbbddbdddddbddddbbbbbbcccccbbb
    bbbdddddcccccbbdddddddddddbbbbbbbbbbbbbbbbbbbbbbbbbbcccccbbb
    bbbdddddcccccbbdddddddddddbbbbbbbbbbbbbbbbbbbbbbbbbbcccccbbb
    bbbdddddcccccbbdddddddddddbbbbbbbbbbbbbbbbbbbbbbbbbbcccccbbb
    bbbdddddcccccbbbdddddddddbbbbbbbbbbbbbbbbbbbbbbbbbbbcccccbbb
    bbbdddddcccccbbbbdddddddbbbbbbbbbbbbbbbbbbbbbbbbbbbbcccccbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbcccccbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbcccccbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbcccbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbcccccbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbcccccbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbcccccbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbcccbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
    .bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb.
    .bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb.
    ...bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb...
    `, SpriteKind.Machine)
coinSlot = sprites.create(img`
    . . . . f f f f f f f . . . . 
    . . f f d d d d d d d f f . . 
    . f d d d d d f d d d d d f . 
    . f d d d d f c f d d d d f . 
    f d d d d d f c f d d d d d f 
    f d d d d d f c f d d d d d f 
    f d d d d d f c f d d d d d f 
    f d d d d d f c f d d d d d f 
    f d d d d d f c f d d d d d f 
    f d d d d d f c f d d d d d f 
    f d d d d d f c f d d d d d f 
    . f d d d d f c f d d d d f . 
    . f d d d d d f d d d d d f . 
    . . f f d d d d d d d f f . . 
    . . . . f f f f f f f . . . . 
    `, SpriteKind.Slot)
coinSlot.right = gachapon.right - 13
coinSlot.bottom = gachapon.bottom - 12
let gachaponLabel = sprites.create(img`
    .ffffffffffffffffffffffffffffffffffffffffffffffffff.
    fbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb5bb5bbbbf
    fbbbbddbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb554544bbf
    fbbbdbbdbddbbdbdbddbddbbddbbdbbbdddbbbbbbbb444e544bf
    fbbdbbbdbddbbdbdbdbdbdbdbbdbdbbbdbbbbb2f2bbbe5ee5bbf
    fbbdbbbdbddbbdbdbdbdbdbdbbdbdbbbdbbbb2f2fbbf5f555ebf
    fbbdbbbdbddbbdbdbdbdbdbdbbdbdbbbdbbbbf2f2b5555b55eef
    fbddddddbdbdbdbdbdbdbdbddddbdbbbbddbbff2bb555bbb555f
    fbdbbbbdbdbdbdbdbdbbbdbdbbdbdbbbbbdbbbbbbbbbbbbbb55f
    fbdbbbbdbdbbddbdbdbbbdbdbbdbdbbbbbdbbbbbbbbbbbbbbbef
    fbdbbbbdbdbbbdbdbdbbbdbdbbdbdddbdddbbbbbbbbbbbbbbbbf
    fbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbf
    fbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbf
    fbbbbbbbbbbbbdbbbdbdbdddbdbdbbbbddddbbddbbddbbbdddbf
    fbbbbbbbbbbbbdbdbdbdbbdbbdbdbbbbbbbdbdbbdbdbdbbdbbbf
    f999911bbbbbbdbdbdbdbbdbbdddbbbbbbbdbdbbdbdbdbbdbbbf
    f99f911bbbbbbbdbdbbdbbdbbdbdbbbbbbbdbdbbdbdddbbdbbbf
    f499921bbbbbbbbbbbbbbbbbbbbbbbbbbbbdbdbbdbdbbdbbddbf
    f99f911bbbbbbbbbbbbbbbbbbbbbbbbbbbbdbdbbdbdbbdbbbdbf
    f99991bbbbbbbbbbbb4bccbbbbbbbbdbbbbdbbddbbdddbbdddbf
    f999bbbbbbbbeebbb4bc91cbbbbbbbdbbbbdbbbbbbbbbbbbbbbf
    fbbbbbbbbbbeeebb44bc99cbbbbbbbbddddbbbbbbbbbbbbbbbbf
    fbbbbbbbeeee11144bbcccbbbbbbbbbbbbbbbbbbbbbbbbbbbbbf
    .ffffffffffffffffffffffffffffffffffffffffffffffffff.
    `, SpriteKind.Label)
gachaponLabel.left = gachapon.left + 4
gachaponLabel.top = gachapon.top + 13
gachaponDeposit = sprites.create(img`
    . . . . . f f f f f f f f f . . . . . 
    . . . f f c c c c c c c c c f f . . . 
    . . f c c c c c c c c c c c c c f . . 
    . f c c c c c c c c c c c c c c c f . 
    . f c c c c c c c c c c c c c c c f . 
    f c c c c c c c c c c c c c c c c c f 
    f c c c c c c c c c c c c c c c c c f 
    f c c c c c c c c c c c c c c c c c f 
    f c c c c c c c c c c c c c c c c c f 
    f f f f f f f f f f f f f f f f f f f 
    `, SpriteKind.Deposit)
gachaponDeposit.bottom = gachapon.bottom
gachaponDeposit.x += -10
makeCoin()
let aButton = sprites.create(img`
    . . . f f f f f f . 
    . . f 5 5 5 5 5 5 f 
    . . f 5 5 c c 5 5 f 
    . . f 5 c 5 5 c 5 f 
    . f 5 5 c 5 5 c 5 f 
    f 5 5 5 c c c c 5 f 
    . f 5 5 c 5 5 c 5 f 
    . . f 5 c 5 5 c 5 f 
    . . f 5 5 5 5 5 5 f 
    . . f 5 5 5 5 5 5 f 
    . . . f f f f f f . 
    `, SpriteKind.ButtonLabel)
aButton.setPosition(coinSlot.x, coinSlot.y)
aButton.x += 14
aButton.setFlag(SpriteFlag.Invisible, true)
aButton.setFlag(SpriteFlag.Ghost, true)
yourPrizes = []
game.onUpdate(function () {
    if (theCoin.overlapsWith(coinSlot)) {
        aButton.setFlag(SpriteFlag.Invisible, false)
    } else {
        aButton.setFlag(SpriteFlag.Invisible, true)
    }
})
